<section>
	<div class="container my-5 py-5">
		<h2>Register now:</h2>
		<form class="mt-3" [formGroup]="registerForm" (ngSubmit)="submitRegisterForm()">
			<!-- Name Input -->
			<div class="form-floating my-3">
				<input [ngClass]="{
						'is-valid':
							!registerForm.get('name')?.errors &&
							registerForm.get('name')?.touched,
						'is-invalid':
							registerForm.get('name')?.errors &&
							registerForm.get('name')?.touched
					}" formControlName="name" type="text" class="form-control mb-3" id="floatingNameInput" placeholder="Name" />
				<label for="floatingNameInput">Name</label>
			</div>
			@if (registerForm.get('name')?.errors &&
			registerForm.get('name')?.touched &&
			registerForm.get('name')?.dirty) {
			<div class="alert alert-danger">
				@if (registerForm.get('name')?.getError('required')) {
				<p class="m-0">Name is Required</p>
				} @if (registerForm.get('name')?.getError('minlength')) {
				<p class="m-0">Name Must be longer than 3 Characters</p>
				} @if (registerForm.get('name')?.getError('maxlength')) {
				<p class="m-0">Name Must be shorter than 20 Characters</p>
				}
			</div>
			}

			<!-- Email Input -->
			<div class="form-floating my-3">
				<input [ngClass]="{
						'is-valid':
							!registerForm.get('email')?.errors &&
							registerForm.get('email')?.touched,
						'is-invalid':
							registerForm.get('email')?.errors &&
							registerForm.get('email')?.touched
					}" formControlName="email" type="email" class="form-control mb-3" id="floatingInputEmail"
					placeholder="name@example.com" />
				<label for="floatingInputEmail">Email address</label>
			</div>
			@if (registerForm.get('email')?.errors &&
			registerForm.get('email')?.touched &&
			registerForm.get('email')?.dirty) {
			<div class="alert alert-danger">
				@if (registerForm.get('email')?.getError('required')) {
				<p class="m-0">Email is Required</p>
				} @if (registerForm.get('email')?.getError('email')) {
				<p class="m-0">
					Your Email Should be in a Valid Format Like
					mail"&#64;"mail.com
				</p>
				}
			</div>
			}

			<!-- Password Input -->
			<div class="form-floating my-3">
				<input [ngClass]="{
						'is-valid':
							!registerForm.get('password')?.errors &&
							registerForm.get('password')?.touched,
						'is-invalid':
							registerForm.get('password')?.errors &&
							registerForm.get('password')?.touched
					}" formControlName="password" type="password" class="form-control mb-3" id="floatingPassword"
					placeholder="Password" />
				<label for="floatingPassword">Password</label>
			</div>
			@if (registerForm.get('password')?.errors &&
			registerForm.get('password')?.touched &&
			registerForm.get('password')?.dirty) {
			<div class="alert alert-danger">
				@if (registerForm.get('password')?.getError('required')) {
				<p class="m-0">Password is Required</p>
				} @if (registerForm.get('password')?.getError('pattern')) {
				<p class="m-0">Password Must be longer than 6 Characters</p>
				}
			</div>
			}

			<!-- Re-Password Input -->
			<div class="form-floating my-3">
				<input [ngClass]="{
						'is-valid':
							!registerForm.getError('mismatch') &&
							registerForm.get('rePassword')?.touched,
						'is-invalid':
							registerForm.getError('mismatch') &&
							registerForm.get('rePassword')?.touched
					}" formControlName="rePassword" type="password" class="form-control mb-3" id="floatingrePassword"
					placeholder="Re-Password" />
				<label for="floatingrePassword">Re-Password</label>
			</div>
			@if (registerForm.getError('mismatch') &&
			registerForm.get('rePassword')?.touched) {
			<div class="alert alert-danger">
				<p class="m-0">Re-Password must match Password</p>
			</div>
			}

			<!-- Phone Input -->
			<div class="form-floating my-3">
				<input [ngClass]="{
						'is-valid':
							!registerForm.get('phone')?.errors &&
							registerForm.get('phone')?.touched,
						'is-invalid':
							registerForm.get('phone')?.errors &&
							registerForm.get('phone')?.touched
					}" formControlName="phone" type="tel" class="form-control mb-3" id="floatingInputPhone"
					placeholder="Phone Number" />
				<label for="floatingInputPhone">Phone Number</label>
			</div>
			@if (registerForm.get('phone')?.errors &&
			registerForm.get('phone')?.touched &&
			registerForm.get('phone')?.dirty) {
			<div class="alert alert-danger">
				@if (registerForm.get('phone')?.getError('required')) {
				<p class="m-0">Phone is Required</p>
				} @if (registerForm.get('phone')?.getError('pattern')) {
				<p class="m-0">Your Phone Should be like 01012345678</p>
				}
			</div>
			}

			<!-- Submit Button -->
			<div>
				<button [disabled]="registerForm.invalid || isLoading()" type="submit"
					class="btn btn-success btn-lg d-block ms-auto">
					@if (isLoading()) {
					<i class="fa-solid fa-spinner fa-spin"></i>
					}@else { Register Now }
				</button>
			</div>
		</form>
	</div>
</section>